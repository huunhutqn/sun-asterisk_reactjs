{"version":3,"sources":["components/Filter/index.js","components/Products/Header/Heading/index.js","components/Products/Header/Sort/index.js","components/Products/Header/index.js","components/Products/ProductsList/index.js","components/Products/index.js","components/Bag/index.js","components/App/index.js","index.js"],"names":["availableSizes","ListItem","props","useState","isChecked","setIsChecked","className","type","value","check","toString","onChange","toggle","Filter","sendFilterdItem","data","passFilteredItem","state","whatChecked","action","newState","push","pushIntoState","this","setState","map","valueInArr","index","splice","spliceFromState","list","sizes","key","toggleCheckboxChange","bind","showSizes","href","aria-label","Component","Heading","countItem","passNumItemDisplayed","Sort","event","whichSort","target","prevProps","name","ref","handleSort","Header","prevState","loading","how","refs","lds_ring","style","display","howSort","products","console","log","newProducts","sort","a","b","price","makeFilteredItemUrl","filteredItem","filteredItemUrl","length","last","forEach","sizeValue","filtered","fetch","then","res","json","result","statusLoading","lastLength","error","setTimeout","Element","product","countItemDisplayed","src","sku","alt","isShipping","isFreeShipping","title","currencyFormat","parseFloat","toFixed","afterDec","slice","indexOf","beforeDec","substring","Fragment","convertPrice","installments","isInstallments","onClick","handleAddToCard","ProductsList","count","productLenght","e","bag","localStorage","getItem","JSON","parse","id","quanity","total","Number","bagProductsNew","setItem","stringify","currencyId","isUpdateBag","checkNoProduct","Products","numItemDisplayed","tmpNum","childData","countInBag","inClass","Bag","checkout","alert","isMobile","newBag","showBag","bag__btn_show","hideBag","bag__btn_hide","getComputedStyle","width","transform","productId","removeItem","removeProductFromBag","getProductFromLocalstorage","calInBag","response","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.25982b15.chunk.js","sourcesContent":["import React, { Component, useState } from 'react';\r\n\r\nimport './style.scss';\r\n\r\nconst availableSizes = [\"XS\",\"S\",\"M\",\"ML\",\"L\",\"XL\",\"XXL\"];\r\n\r\nclass Filter extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      whatChecked: []\r\n    };\r\n  }\r\n  toggleCheckboxChange(value,action) {\r\n    if(action === 'check') {\r\n      let prevState = this.state;\r\n      \r\n      let newState = pushIntoState(prevState,value);\r\n      \r\n      this.setState(() => ({\r\n        whatChecked: newState\r\n      }));\r\n      // this.setState((state) => ({\r\n      //   whatChecked: pushIntoState(state,value)\r\n      // }));\r\n      // console.log(this.state.whatChecked.length);\r\n      this.sendFilterdItem(newState);\r\n    } \r\n    else {\r\n      let prevState = this.state;\r\n      \r\n      let newState = spliceFromState(prevState,value);\r\n      \r\n      this.setState(() => ({\r\n        whatChecked: newState\r\n      }));\r\n      // this.setState((state) => ({\r\n      //   whatChecked: spliceFromState(state,value)\r\n      // }));\r\n      // console.log(this.state.whatChecked.length);\r\n      this.sendFilterdItem(newState);\r\n    }\r\n  }\r\n  showSizes(list) {\r\n    return (\r\n      list.map((sizes) => <ListItem key={sizes} value={sizes} toggle={this.toggleCheckboxChange.bind(this)}/>)\r\n    )\r\n  }\r\n  sendFilterdItem = (data) => {\r\n    this.props.passFilteredItem(data);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"filter\">\r\n        <h4>Sizes:</h4>\r\n        {this.showSizes(availableSizes)}\r\n        <div className=\"desc\">\r\n          <p>\r\n            Leave a star on Github if this repository was useful :))~\r\n          </p>\r\n          {/* <!-- Place this tag where you want the button to render. --> */}\r\n          <a className=\"github-button\" href=\"https://github.com/huunhutqn/sun-asterisk_reactjs\" aria-label=\"Star me/github-buttons on GitHub\">Star</a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction pushIntoState(state,value) {\r\n  state.whatChecked.push(value);\r\n  return state.whatChecked;\r\n}\r\nfunction spliceFromState(state,value) {\r\n  state.whatChecked.map((valueInArr,index) => {\r\n    if (valueInArr === value) {\r\n      state.whatChecked.splice(index,1);\r\n    }\r\n  });\r\n  return state.whatChecked;\r\n}\r\n\r\nfunction ListItem(props) {\r\n  // Declare a new state variable, which we'll call \"isChecked\"\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  return (\r\n    <div className=\"filter__available__sizes\">\r\n      <label className=\"filter__available__sizes__item\">\r\n        <input\r\n          type=\"checkbox\"\r\n          value={props.value}\r\n          check={isChecked.toString()}\r\n          onChange={() => {\r\n            setIsChecked(!isChecked);\r\n            // neu da chon thi pass value len component\r\n            if(!isChecked)\r\n              props.toggle(props.value,\"check\");\r\n            else \r\n              props.toggle(props.value,\"uncheck\")\r\n          }}\r\n        />\r\n        <span className=\"filter__available__sizes__item__text\">\r\n          {props.value}\r\n        </span>\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;","import React, { Component } from 'react';\r\n\r\nclass Heading extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      countItem: this.props.passNumItemDisplayed\r\n    };\r\n  }\r\n  // shouldComponentUpdate(nextProps) {\r\n  //   // (nextState !== this.state)? return true: return false;\r\n  //   if(nextProps !== this.props) {\r\n  //     return true;\r\n  //   } else return false;\r\n  //   // console.log(nextState);\r\n  //   // console.log(this.state);\r\n  //   // return false;\r\n  // }\r\n  // componentDidUpdate(prevProps) {\r\n  //   if (\r\n  //     this.props !==\r\n  //     prevProps\r\n  //   ) {\r\n  //     // this.props.onChange(this.state.numItemDisplayed);\r\n  //     this.forceUpdate()\r\n  //   }\r\n  // }\r\n  render() {\r\n    // console.log(this.state.countItem);\r\n    return (\r\n      <div className=\"products-top__heading\">\r\n        <span className=\"products-top__heading__count\">{this.props.passNumItemDisplayed}</span>\r\n        <span className=\"products-top__heading__text\"> Product(s) found.</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Heading;","import React, { Component } from 'react';\r\n\r\nclass Sort extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {  };\r\n  }\r\n  handleSort(event) {\r\n    // console.log('e la: ', event.target.value);\r\n    this.props.whichSort(event.target.value);\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    // if (prevProps.valueWhichSort !== this.props.valueWhichSort) {\r\n    //   let sortList = this.refs.products_top__sort__select;\r\n    //   sortList.value = 'default';\r\n    //   // console.log('sort list ',sortList)\r\n    // }\r\n  }\r\n  // SelectElement = () => {\r\n  //   return (\r\n      \r\n  //   )\r\n  // }\r\n  render() {\r\n    return (\r\n      <div className=\"products-top__sort\">\r\n        <span className=\"products-top__sort__text\">Order by</span>\r\n        {/* <this.SelectElement onChange={this.handleSort}/> */}\r\n        <select className=\"products-top__sort__select\" name=\"sort-list\" ref=\"products_top__sort__select\" onChange={this.handleSort.bind(this)}>\r\n          <option value=\"default\">Select</option>\r\n          <option value=\"increment\">Lowest to highest</option>\r\n          <option value=\"decrement\">Highest to lowest</option>\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Sort;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\n\r\nimport Heading from './Heading';\r\nimport Sort from './Sort';\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      whichSort: ''\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // console.log('qua khu va  hien tai: ',prevProps,this.props);\r\n    // if (prevProps.passNumItemDisplayed !== this.props.passNumItemDisplayed && prevProps.passNumItemDisplayed !== 0) {\r\n    //   this.setState({\r\n    //     whichSort: 'default'\r\n    //   })\r\n    // }\r\n    // console.log('prop co thay doi: ',prevProps,this.props)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"products-top\">\r\n        <Heading passNumItemDisplayed={this.props.passNumItemDisplayed} />\r\n        <Sort whichSort={this.props.whichSort}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import Loading from '../../Fragments/Loading';\r\n\r\n// import Heading from '../Header/Heading';\r\n\r\nimport './style.scss';\r\n\r\nconst url = \"http://localhost:3300/\";\r\n\r\nclass ProductsList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // this.productsRef = React.createRef();\r\n    this.state = {\r\n      products: [],\r\n      statusLoading: 'ready',\r\n      last: 'null',\r\n      filtered: false,\r\n      lastLength: 0\r\n    };\r\n    Element = Element.bind(this);\r\n    makeFilteredItemUrl = makeFilteredItemUrl.bind(this);\r\n    howSort = howSort.bind(this);\r\n    loading = loading.bind(this);\r\n    // this.e = ReactDOM.findDOMNode(Loading);\r\n    // console.log(this.e)\r\n    // handleAddToCard = handleAddToCard.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.state.statusLoading === 'ready' && this.state.last === 'null' && this.state.filtered === false) {\r\n    loading('show');\r\n    fetch('http://localhost:3300/products')\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            products: result,\r\n            statusLoading: 'ready',\r\n            last: 'null',\r\n            filtered: false,\r\n            lastLength: 0\r\n          });\r\n        },\r\n        (error) => {\r\n          console.log(error)\r\n        }\r\n      )\r\n      .then(\r\n        setTimeout(() => {\r\n          loading('hide')\r\n        }, 300)\r\n      )\r\n      // .then(\r\n      //   (result) => {\r\n      //     this.setState({\r\n      //       products: result,\r\n      //       statusLoading: 'loading',\r\n      //       last: 'null'\r\n      //     });\r\n      //   }\r\n      // )\r\n      // .then(\r\n      //   this.setState({\r\n      //     products: [],\r\n      //     statusLoading: 'loading',\r\n      //     last: 'null'\r\n      //   })\r\n      // )\r\n    }\r\n  }\r\n\r\n  countItemDisplayed = (count) => {\r\n    // this.props.passNumItemDisplayed(this.state.products.length);\r\n    // if(isNaN(count)) console.log('ko phai so'); else console.log('la so');\r\n    // console.log(typeof('kieu ',count));\r\n    console.log('goi ham dem trong method');\r\n    this.props.passNumItemDisplayed(count)\r\n    // console.log(this.state.products.length)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // console.log('prevProp: ',prevProps.passFilteredItem);\r\n    // console.log('this Prop: ',this.props.passFilteredItem);\r\n    \r\n    if (prevState.lastLength !== this.props.passFilteredItem.length) {\r\n      console.log('goi ham dem trong didUpdate');\r\n      console.log(prevState.statusLoading,this.state.statusLoading);\r\n      makeFilteredItemUrl(this.props.passFilteredItem);\r\n      if(this.state.products.length >= 1) {\r\n        if(this.state.statusLoading === 'loading') {\r\n          \r\n          // console.log('coleloi tai day');\r\n          this.props.passNumItemDisplayed(this.state.products.length);\r\n        }\r\n      } \r\n    }\r\n    if (prevProps.whichSort !== this.props.whichSort) {\r\n      prevState.products = howSort(prevState.products);\r\n      this.setState(prevState);\r\n    }\r\n    // if(this.props.passFilteredItem.length > 0) {\r\n    //   console.log('state cu: ',prevState);\r\n    //   console.log('state hien tai: ',this.state);\r\n    //   if (this.state !== prevState) {\r\n        \r\n    //   }\r\n    //   makeFilteredItemUrl(this.props.passFilteredItem);\r\n    //   // console.log(this.state)\r\n    // } \r\n    // console.log('nay: ',this.props.passFilteredItem.length);\r\n    \r\n      if (this.props.passFilteredItem.length === 0 && prevState.lastLength === 1) {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products')\r\n          .then(res => res.json())\r\n          .then(\r\n            (result) => {\r\n              this.setState({\r\n                products: howSort(result),\r\n                statusLoading: 'ready',\r\n                last: 'null',\r\n                filtered: false,\r\n                lastLength: 0\r\n              });\r\n            },\r\n            (error) => {\r\n              console.log(error)\r\n            }\r\n          )\r\n          .then(\r\n            setTimeout(() => {\r\n              loading('hide')\r\n            }, 300)\r\n          )\r\n      }\r\n    \r\n    // if (\r\n    //   this.props.passFilteredItem !==\r\n    //   prevProps.passFilteredItem\r\n    // ) {\r\n    //   // this.props.onChange(this.state.numItemDisplayed);\r\n    //   // this.forceUpdate()\r\n    //   // function makeFilteredItemUrl(filteredItem) {\r\n    //   //   console.log(filteredItem)\r\n    //   // }\r\n    //   makeFilteredItemUrl(this.props.passFilteredItem);\r\n    //   // console.log(prevProps.passFilteredItem);\r\n    //   // console.log(this.props.passFilteredItem)\r\n    // }\r\n  }\r\n  checkNoProduct(productLenght) {\r\n    if (productLenght === 0 && this.state.statusLoading === 'loading') {\r\n      this.props.passNumItemDisplayed(0);\r\n    }\r\n  }\r\n  \r\n  handleAddToCard(product, e) {\r\n    // console.log('id la: ',id)\r\n    let bag = localStorage.getItem('bag');\r\n    // let productPrice = parseFloat(product.price);\r\n    // // productPrice = productPrice.round(2);\r\n    // console.log(typeof(productPrice), productPrice);\r\n    if (bag) {\r\n      //bag da co\r\n      // console.log('bag co: ',bag)\r\n      //0. convert json to arr\r\n      bag = JSON.parse(bag);\r\n      //1. kiem tra id product da ton tai hay chua\r\n      let bagProductsNew = () => {\r\n        for (const key in bag.products) {\r\n          ///neu ton tai thi tang quanity len 1\r\n          if (bag.products[key].id === product.id) {\r\n            bag.products[key].quanity++;\r\n            bag.total.price = parseFloat(Number(bag.total.price + product.price).toFixed(2));\r\n            // bag.total.price.round(2);\r\n            break;\r\n          } ///neu chua co product trong local thi push vao cuoi vong lap\r\n          else if(bag.products.length - key === 1) {\r\n            product.quanity = 1;\r\n            bag.products.push(product);\r\n          }\r\n        }\r\n        // for (let productValue of bag.products) {\r\n        //   if (productValue.id === product.id) {\r\n        //     ///neu ton tai thi tang quanity len 1\r\n        //     productValue.quanity++;\r\n        //   } else if() {\r\n        //     ///neu chua co product trong local thi push vao cuoi vong lap\r\n        //   }\r\n        // }\r\n        return bag.products;\r\n      }\r\n      // let bagProductsNew = bag.products.map((currentValue, index) => {\r\n      //   // console.log('value hien tai: ',currentValue)\r\n      //   ///neu ton tai thi tang quanity len 1\r\n      //   if(currentValue.id === product.id) {\r\n      //     currentValue.quanity++\r\n      //   } ///neu chua co product thi them vao\r\n      //   else {\r\n      //     console.log('ko thay');\r\n      //     console.log('length: ', bag.products.length);\r\n      //     console.log('index: ', index);\r\n      //     if (bag.products.length - index === 1) {\r\n      //       console.log(bag.products);\r\n      //       console.log(bag.products[index]);\r\n      //       currentValue = product;\r\n      //       currentValue.quanity = 1;\r\n      //     }\r\n      //     // let newProduct = product;\r\n      //     // newProduct.quanity = 1;\r\n      //     // bag.products.push(newProduct)\r\n          \r\n      //     // console.log(currentValue)\r\n      //   }\r\n      //   // console.log(currentValue);\r\n      //   return currentValue;\r\n      // });\r\n      // console.log(bagProductsNew());\r\n      bag.products = bagProductsNew();\r\n      bag.total.quanity++;\r\n      if (product.installments > bag.total.installments) {\r\n        bag.total.installments = product.installments;\r\n      }\r\n      bag.total.price = parseFloat(Number(bag.total.price + product.price).toFixed(2));\r\n      // bag.total.price.round(2);\r\n      // bag.total.price = parseFloat(bag.total.price).toFixed(2);\r\n      localStorage.setItem('bag', JSON.stringify(bag));\r\n      // console.log(bag)\r\n    } else {\r\n      // chua co bag\r\n      console.log('bag khong co: ',bag)\r\n      product.quanity = 1;\r\n      bag = {'products': [product], 'total': {'quanity': 1,\r\n                                              'installments': product.installments,\r\n                                              'price': product.price,\r\n                                              'currencyId': product.currencyId,\r\n                                              'currencyFormat': product.currencyFormat\r\n                                              }};\r\n      bag = JSON.stringify(bag);\r\n      localStorage.setItem('bag', bag)\r\n    }\r\n    //thong bao cho bag vua co du lieu moi\r\n    this.props.isUpdateBag('yes');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"products-main\">\r\n        <div className=\"products-main__container\">\r\n        <div className=\"lds-ring\" id=\"lds-ring\" ref=\"lds_ring\"><div></div><div></div><div></div><div></div></div>\r\n          {/* {console.log(this.state.products)} */}\r\n          {this.checkNoProduct(this.state.products.length)}\r\n          {this.state.products.map((product,index) => {\r\n            return <Element \r\n                          key={index}\r\n                          product={product}\r\n                          index={index}\r\n                          length={this.state.products.length}\r\n                          countItemDisplayed={this.countItemDisplayed}/>\r\n          })}\r\n          {/* {(this.state.statusLoading === 'loaded')?this.countItemDisplayed(this.state.count, this.state.statusLoading):false} */}\r\n          {/* {this.props.passNumItemDisplayed(2)} */}\r\n          <div className=\"products-main__item-last\"></div>\r\n          <div className=\"products-main__item-last\"></div>\r\n          <div className=\"products-main__item-last\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction loading(how) {\r\n  if (how === 'show') {\r\n    // console.log(this.props.loading)\r\n    // this.props.loading.style.display = 'block';\r\n    this.refs.lds_ring.style.display = 'block';\r\n  } else {\r\n    // this.props.loading.style.display = 'none';\r\n    this.refs.lds_ring.style.display = 'none';\r\n  }\r\n}\r\nfunction howSort(products) {\r\n  console.log('da vao howsort');\r\n  let how = this.props.whichSort;\r\n  // let prevProducts = products;\r\n  let newProducts = products;\r\n  switch (how) {\r\n    case 'increment':\r\n      console.log('sapxem tang');\r\n      // sap xep tang dan\r\n      newProducts.sort(function(a, b){return a.price - b.price});\r\n      break;\r\n\r\n    case 'decrement':\r\n        console.log('sapxem giamr');\r\n      newProducts.sort(function(a, b){return b.price - a.price});\r\n      break;\r\n  \r\n    default:\r\n      return newProducts\r\n  }\r\n  return newProducts\r\n}\r\nfunction makeFilteredItemUrl(filteredItem) {\r\n  let filteredItemUrl = \"\";\r\n  function isEndLoop(index, length) {\r\n    if(length - index === 1)\r\n      return 'yes'\r\n    else return 'no'\r\n  }\r\n  // console.log('lengt luc nay ',filteredItem.length);\r\n  // if (!filteredItem.length) {\r\n  //   console.log('co length')\r\n  // } else console.log('k co length')\r\n  // if(filteredItem.length === 1 && this.state.last === 'one') {\r\n  //   fetch('http://localhost:3300/products')\r\n  //     .then(res => res.json())\r\n  //     .then(\r\n  //       (result) => {\r\n  //         console.log('zero');\r\n  //         // this.setState({\r\n  //         //   products: result,\r\n  //         //   statusLoading: 'loading',\r\n  //         //   last: 'many'\r\n  //         // });\r\n  //       },\r\n  //       (error) => {\r\n  //         console.log(error)\r\n  //       }\r\n  //     );\r\n  //   console.log('ok0',filteredItemUrl)\r\n  // }\r\n  if(filteredItem.length > 0) {\r\n    if(filteredItem.length === 1 && this.state.last === 'null') {\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue)\r\n        filteredItemUrl += sizeValue;\r\n      });\r\n      // console.log(!this.state.filtered);\r\n      // console.log(!this.state.last);\r\n      if(!this.state.filtered && this.state.last !== 'one') {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('one');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'one',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      } \r\n      console.log('ok1',filteredItemUrl)\r\n    } if(this.state.filtered && filteredItem.length === 2 && this.state.last !== 'many') { // neu > 2\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue);\r\n        if(filteredItem.length-index !== 1 ) {\r\n          filteredItemUrl += sizeValue + '|';\r\n        } else filteredItemUrl += sizeValue;\r\n      });\r\n      // console.log('neu la ', this.state.filtered===true)\r\n      if (this.state.filtered) {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('many');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'many',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      }\r\n      console.log('ok2+',filteredItemUrl)\r\n    } if(this.state.filtered && filteredItem.length === 2 && this.state.last === 'many') { // neu > 2\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue);\r\n        if(filteredItem.length-index !== 1 ) {\r\n          filteredItemUrl += sizeValue + '|';\r\n        } else filteredItemUrl += sizeValue;\r\n      });\r\n      // console.log('neu la ', this.state.filtered===true)\r\n      if (this.state.filtered) {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('many');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'many',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      }\r\n      console.log('ok2+',filteredItemUrl)\r\n    }\r\n    if(this.state.filtered && filteredItem.length === 1 && this.state.last === 'one') {\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue)\r\n        filteredItemUrl += sizeValue;\r\n      });\r\n      // console.log(!this.state.filtered);\r\n      // console.log(!this.state.last);\r\n      if(this.state.filtered && this.state.last !== 'one') {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('one');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'one',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      } \r\n      console.log('ok1',filteredItemUrl)\r\n    } if(filteredItem.length === 1 && this.state.last === 'many') {\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue)\r\n        filteredItemUrl += sizeValue;\r\n      });\r\n      // console.log(!this.state.filtered);\r\n      // console.log(!this.state.last);\r\n      if(this.state.filtered && this.state.last !== 'one') {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('one');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'one',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      } \r\n      console.log('ok1',filteredItemUrl)\r\n    } if(this.state.filtered === true && filteredItem.length >= 3 && this.state.last === 'many') { // neu > 2\r\n      console.log('dang o day >= 3');\r\n      var endLoop = \"\";\r\n      filteredItem.forEach((sizeValue,index) => {\r\n        // console.log(sizeValue);\r\n        if(filteredItem.length-index !== 1 ) {\r\n          filteredItemUrl += sizeValue + '|';\r\n        } else {\r\n          endLoop = \"yes\";\r\n          filteredItemUrl += sizeValue;\r\n          console.log('end: ',filteredItemUrl)\r\n        }\r\n      });\r\n      // console.log('neu la ', this.state.filtered===true)\r\n      if (this.state.filtered) {\r\n        loading('show');\r\n        fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n        .then(res => res.json())\r\n        .then(\r\n          (result) => {\r\n            console.log('many');\r\n            this.setState({\r\n              products: howSort(result),\r\n              statusLoading: 'loading',\r\n              last: 'many',\r\n              filtered: true,\r\n              lastLength: filteredItem.length\r\n              //isEndLoop: endLoop\r\n            });\r\n          },\r\n          (error) => {\r\n            console.log(error)\r\n          }\r\n        )\r\n        .then(\r\n          setTimeout(() => {\r\n            loading('hide')\r\n          }, 300)\r\n        );\r\n      }\r\n      console.log('ok2+',filteredItemUrl)\r\n    }\r\n    // else if(filteredItem.length > 2 && this.state.last === 'many') {\r\n    //   filteredItem.forEach((sizeValue,index) => {\r\n    //     // console.log(sizeValue);\r\n    //     if(filteredItem.length-index !== 1 ) {\r\n    //       filteredItemUrl += sizeValue + '|';\r\n    //     } else filteredItemUrl += sizeValue;\r\n    //   });\r\n    //   // console.log('neu la ', this.state.filtered===true)\r\n    //   if (this.state.filtered) {\r\n    //     fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n    //     .then(res => res.json())\r\n    //     .then(\r\n    //       (result) => {\r\n    //         console.log('many');\r\n    //         this.setState({\r\n    //           products: result,\r\n    //           statusLoading: 'loading',\r\n    //           last: 'many',\r\n    //           filtered: true\r\n    //         });\r\n    //       },\r\n    //       (error) => {\r\n    //         console.log(error)\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // }\r\n  }\r\n  // return filteredItemUrl;\r\n}\r\n    //filteredItem.forEach((sizeValue,index) => {\r\n      // if(index < filteredItem.length && this.state.last !== 'many' && this.state.last !== 'null') {\r\n      //   filteredItemUrl += sizeValue + '|';\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       console.log('many');\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'many'\r\n      //       });\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // }\r\n      // if(this.state.last === 'many') {\r\n      //   filteredItemUrl += sizeValue + '|';\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       console.log('many');\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'many'\r\n      //       });\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // }\r\n      // if(filteredItem.length === 1 && this.state.last !== 'many') {\r\n      //   filteredItemUrl += sizeValue;\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       console.log('many');\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'mone'\r\n      //       });\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // } else {\r\n      //   filteredItemUrl += sizeValue + '|';\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       console.log('many');\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'many'\r\n      //       });\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // }\r\n      // if(this.state.last !== 'many' && this.state.last !== 'one') {\r\n      //   filteredItemUrl += sizeValue;\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       console.log('many');\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'many'\r\n      //       });\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // } \r\n      // console.log(index,filteredItem.length);\r\n      // if(index < filteredItem.length && this.state.last !== 'many' && this.state.last !== 'one') {\r\n      //   filteredItemUrl += sizeValue;\r\n      //   fetch('http://localhost:3300/products?availableSizes_like='+filteredItemUrl)\r\n      //   .then(res => res.json())\r\n      //   .then(\r\n      //     (result) => {\r\n      //       this.setState({\r\n      //         products: result,\r\n      //         statusLoading: 'loading',\r\n      //         last: 'one'\r\n      //       });\r\n      //       if(result.length === 0) {\r\n      //         // Element('zero');\r\n      //         // this.props.countItemDisplayed(0);\r\n      //         console.log('zero');\r\n      //         // this.countItemDisplayed('a')\r\n      //       }\r\n      //     },\r\n      //     (error) => {\r\n      //       console.log(error)\r\n      //     }\r\n      //   )\r\n      // };\r\n      \r\n    //});\r\n  // }\r\n  // console.log(filteredItemUrl)\r\n// }\r\n\r\nfunction Element(props) {\r\n  // console.log(props);\r\n  // if(props === 'zero') props.countItemDisplayed('0');\r\n  const { product } = props;\r\n\r\n  // console.log(this.state.statusLoading);\r\n  // console.log('prop index',props.index);\r\n  // console.log('prop length',this.state.products.length);\r\n  // console.log(this.state.products.length - props.index);\r\n  if(this.state.products.length >= 1) {\r\n    if(this.state.statusLoading === 'ready') {\r\n      if((this.state.products.length - props.index) === 1) {\r\n        // this.setState({\r\n        //   statusLoading: 'loaded',\r\n        //   count: props.index\r\n        // })\r\n        // console.log('da ok')\r\n        props.countItemDisplayed(this.state.products.length);\r\n        // props.countItemDisplayed(this.state.products.length);\r\n      }\r\n    } \r\n    // else if(this.state.statusLoading === 'loading') {\r\n      \r\n    //   console.log('coleloi tai day');\r\n    //   props.countItemDisplayed(this.state.products.length);\r\n    // }\r\n  } \r\n  // if (this.state.products.length === 0) {\r\n  //   // props.countItemDisplayed(0);\r\n  //   console.log('k co sp nao')\r\n  // }\r\n  \r\n  function isShipping(value) {\r\n    if(value === true) {\r\n      return (\r\n        <div className=\"products-main__item--label-shipping\">\r\n          <label className=\"products-main__item--label-shipping__text\">Free shipping</label>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  function convertPrice(value) {\r\n    const price = parseFloat(value).toFixed(2).toString() + \"\";\r\n    // console.log(typeof(price));\r\n    const afterDec = price.slice(price.indexOf('.'));\r\n    const beforeDec = price.substring(price.indexOf('.'),0);\r\n    // console.log(price);\r\n    // let afterDec = price.indexOf(\".\");\r\n    // console.log(afterDec);\r\n    // var str = \"Visit W3Schools!\"; \r\n    // var n = str.search(\"W3Schools\");\r\n    // console.log(n);\r\n    return (\r\n      <React.Fragment>\r\n        <span className=\"products-main__item--price__int\">{beforeDec}</span>\r\n        <span className=\"products-main__item--price__dec\">{afterDec}</span>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n  function isInstallments(installments,currencyFormat,price) {\r\n    if(installments > 0)\r\n    return (\r\n      <React.Fragment>\r\n        <span className=\"products-main__item--price-installments__text\">or</span>\r\n        <span className=\"products-main__item--price-installments__num\">{installments}</span>\r\n        <span className=\"products-main__item--price-installments__text\">x</span>\r\n        <span className=\"products-main__item--price-installments__unit\">{currencyFormat}</span>\r\n        <span className=\"products-main__item--price-installments__once\">{parseFloat(price/installments).toFixed(2)}</span>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"products-main__item\">\r\n      <div className=\"products-main__item--image\">\r\n        <img src={`images/products/${product.sku}_1.jpg`} alt=\"\"/>\r\n      </div>\r\n      {isShipping(product.isFreeShipping)}\r\n      {/* {console.log(product.isFreeShipping)} */}\r\n      <div className=\"products-main__item--name\">\r\n        <h4 className=\"products-main__item--name__text\">\r\n          {product.title}\r\n        </h4>\r\n      </div>\r\n      <div className=\"products-main__item--hr\"></div>\r\n      <div className=\"products-main__item--price\">\r\n        <span className=\"products-main__item--price__unit\">{product.currencyFormat}</span>\r\n        {convertPrice(product.price)}\r\n      </div>\r\n      <div className=\"products-main__item--price-installments\">\r\n        {isInstallments(product.installments,product.currencyFormat,product.price)}\r\n      </div>\r\n      <div className=\"products-main__item--add-to-bag\">\r\n        <button className=\"products-main__item--add-to-bag__btn\" onClick={this.handleAddToCard.bind(this, product)}>\r\n          <span className=\"products-main__item--add-to-bag__btn__text\">\r\n            Add to cart\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// class Element extends Component {\r\n//   render() {\r\n//     const { product } = this.props;\r\n//     return (\r\n//       <div className=\"products-main__item\">\r\n//         <div className=\"products-main__item--image\">\r\n//           <img src={`images/products/${product.sku}_1.jpg`} alt=\"\"/>\r\n//         </div>\r\n//         <div className=\"products-main__item--label-shipping\">\r\n//           <label className=\"products-main__item--label-shipping__text\">Free shipping</label>\r\n//         </div>\r\n//         <div className=\"products-main__item--name\">\r\n//           <h4 className=\"products-main__item--name__text\">\r\n//             Short Sleeve T-Shirt\r\n//           </h4>\r\n//         </div>\r\n//         <div className=\"products-main__item--hr\"></div>\r\n//         <div className=\"products-main__item--price\">\r\n//           <span className=\"products-main__item--price__unit\">$</span>\r\n//           <span className=\"products-main__item--price__int\">10</span>\r\n//           <span className=\"products-main__item--price__dec\">.90</span>\r\n//         </div>\r\n//         <div className=\"products-main__item--price-installments\">\r\n//           <span className=\"products-main__item--price-installments__text\">or</span>\r\n//           <span className=\"products-main__item--price-installments__num\">5</span>\r\n//           <span className=\"products-main__item--price-installments__text\">x</span>\r\n//           <span className=\"products-main__item--price-installments__unit\">$</span>\r\n//           <span className=\"products-main__item--price-installments__once\">15.00</span>\r\n//         </div>\r\n//         <div className=\"products-main__item--add-to-bag\">\r\n//           <button className=\"products-main__item--add-to-bag__btn\">\r\n//             <span className=\"products-main__item--add-to-bag__btn__text\">\r\n//               Add to cart\r\n//             </span>\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nexport default ProductsList;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport ProductsList from './ProductsList';\r\n\r\nimport './style.scss';\r\n\r\n// var a = 0;\r\n\r\nclass Products extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      numItemDisplayed: 0,\r\n      whichSort: 'default'\r\n    };\r\n    this.tmpNum = 0;\r\n    this.passNumItemDisplayed = this.passNumItemDisplayed.bind(this);\r\n    this.whichSort = this.whichSort.bind(this);\r\n    //passNumItemDisplayed = passNumItemDisplayed.bind(this);\r\n    // showNumItemDisplayed = showNumItemDisplayed.bind(this);\r\n    // this.num = 1;\r\n  }\r\n  passNumItemDisplayed (childData) {\r\n    if(this.state.numItemDisplayed !== childData) {\r\n      this.tmpNum = childData;\r\n      console.log('so tmp ngay khi set: ',this.tmpNum);\r\n      // this.props.numItemDisplayed = childData;\r\n      this.setState({\r\n        numItemDisplayed : childData,\r\n        // whichSort: 'default'\r\n      });\r\n      console.log('so tmp vua khi set xong: ',this.tmpNum);\r\n    }\r\n  }\r\n  whichSort(value) {\r\n    // console.log('sort la ',value);\r\n    let prevState = this.state;\r\n    prevState.whichSort = value;\r\n    // console.log('state sau khi thay doi: ',prevState);\r\n    this.setState(prevState)\r\n  }\r\n  // componentDidMount() {\r\n  //   console.log('ahihi');\r\n  //   // console.log(this.num)\r\n  //   // console.log(this.props)\r\n  // }\r\n  // handleUpdate = (update) => {\r\n  //   this.setState({numItemDisplayed: update})\r\n  // }\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   // Hàm này thực hiện khi state và props thay đổi\r\n  //   // Hàm này sẽ trả về kết quả true/false, bạn sẽ cần sử dụng đến hàm này để xử lý xem có cần update component không\r\n  //   console.log(nextProps, nextState)\r\n  // }\r\n  // shouldComponentUpdate(nextProps, nextState) {\r\n  //   // (nextState !== this.state)? return true: return false;\r\n  //   if(nextState !== this.state) {\r\n  //     return true;\r\n  //   } else return false;\r\n  //   // console.log(nextState);\r\n  //   // console.log(this.state);\r\n  //   // return false;\r\n  // }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    // console.log('so hien tai la ',this.tmpNum);\r\n    // console.log('prevProps cu la ',prevProps);\r\n    // console.log('Props hien tai la ',this.props);\r\n    // console.log('prevState cu la ',prevState); \r\n    // console.log('State hien tai la ',this.state); \r\n    // if (\r\n    //   this.state.numItemDisplayed !==\r\n    //   prevState.numItemDisplayed\r\n    // ) {\r\n    //   // this.props.onChange(this.state.numItemDisplayed);\r\n    //   // this.forceUpdate()\r\n    // }\r\n  }\r\n  // componentDidUpdate() {\r\n  //   console.log('ahuhu');\r\n  //   console.log(this.num)\r\n  // }\r\n  render() {\r\n    return (\r\n      <div className=\"products\">\r\n        <Header passNumItemDisplayed={this.state.numItemDisplayed} whichSort={this.whichSort}/>\r\n        {/* {console.log(this.num)} */}\r\n        <ProductsList\r\n          passNumItemDisplayed={this.passNumItemDisplayed}\r\n          passFilteredItem={this.props.passFilteredItem} \r\n          whichSort={this.state.whichSort}\r\n          isUpdateBag={this.props.isUpdateBag}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// function passNumItemDisplayed (childData) {\r\n//   // this.setState({\r\n//   //   numItemDisplayed : childData\r\n//   // });\r\n//   // a = childData;\r\n//   // if (childData > 0) {\r\n//     if(this.state.numItemDisplayed !== childData) {\r\n//       this.setState({\r\n//         numItemDisplayed : childData\r\n//       });\r\n//     }\r\n//   // } \r\n//   // console.log(this.props.passFilteredItem);\r\n//   // else if(this.props.passFilteredItem.length > 0) {\r\n//   //   // if(this.state.numItemDisplayed !== childData) {\r\n//   //   //   this.setState({\r\n//   //   //     numItemDisplayed : childData\r\n//   //   //   });\r\n//   //   // }\r\n//   //   console.log(this.props.passFilteredItem.length)\r\n//   // }\r\n//   // else \r\n//   // this.setState({\r\n//   //   numItemDisplayed : 0\r\n//   // });\r\n//   // console.log(childData);\r\n//   // this.num = 2;\r\n//   // console.log(this.num);\r\n//   // console.log('a trong function ',a)\r\n// }\r\n// function showNumItemDisplayed() {\r\n//   return this.num;\r\n//   // console.log(this.num)\r\n// }\r\nexport default Products;","import React, { Component } from 'react';\r\n\r\nimport './style.scss';\r\nimport { thisExpression } from '@babel/types';\r\n\r\nclass Bag extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isMobile: false,\r\n      bag: JSON.parse(localStorage.getItem('bag'))\r\n    };\r\n    countInBag = countInBag.bind(this)\r\n  }\r\n  componentDidMount() {\r\n    // let prevState = this.state;\r\n    // prevState.bag = JSON.stringify(localStorage.getItem('bag'));\r\n    // this.set\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.isUpdateBag === 'yes') {\r\n      console.log('update bag thoi');\r\n      let newBag = JSON.parse(localStorage.getItem('bag'));\r\n      // console.log('new bag: ',newBag);\r\n      // console.log('old bag: ',prevState.bag);\r\n      if (!prevState.bag) {\r\n        console.log('new bag: ',newBag);\r\n        console.log('old bag: ',prevState.bag);\r\n        if (prevState.bag !== newBag) {\r\n          prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n          this.setState(prevState);\r\n        }\r\n        // prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n        // this.setState(prevState);\r\n      } else {\r\n        console.log('kiem tra nao ',prevState.bag);\r\n        console.log('kiem tra new bag nao ',newBag);\r\n        if (prevState.bag.total.quanity !== newBag.total.quanity) {\r\n          prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n          this.setState(prevState);\r\n        }\r\n      }\r\n      // if (prevState.bag.products) {\r\n      //   if (prevState.bag.total.quanity !== newBag.total.quanity) {\r\n      //     prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n      //     this.setState(prevState);\r\n      //   }\r\n      // } else {\r\n      //   prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n      //   // console.log('prevesateluc nay: ',prevState)\r\n      //   this.setState(prevState);\r\n      // }\r\n      \r\n      // prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n      // this.setState(prevState);\r\n    }\r\n    // console.log('prop cu/prop moi: ',prevProps, this.props)\r\n    // window.onstorage = () => {\r\n    //   // When local storage changes, dump the list to\r\n    //   // the console.\r\n    //   console.log('local vua thay doi: ',JSON.parse(window.localStorage.getItem('bag')));\r\n    // };\r\n  }\r\n  showBag() {\r\n    // console.log('click show bag');\r\n    let bag = this.refs.bag;\r\n    let showBag = this.refs.bag__btn_show;\r\n    let hideBag = this.refs.bag__btn_hide;\r\n    // console.log(bag)\r\n    // (bag.style.transform == 'translate(320px, 0px)')?this.setState({isMobile:true}):false;\r\n    // console.log(getComputedStyle(bag).width);\r\n    if(getComputedStyle(bag).width === \"320px\") {\r\n      this.setState({isMobile:true})\r\n    } else this.setState({isMobile:false})\r\n    bag.style.transform = \"translate(0px, 0px)\";\r\n    showBag.style.display = \"none\";\r\n    hideBag.style.display = \"block\";\r\n  }\r\n  hideBag() {\r\n    // console.log('click hide bag');\r\n    let bag = this.refs.bag;\r\n    let showBag = this.refs.bag__btn_show;\r\n    let hideBag = this.refs.bag__btn_hide;\r\n    // console.log(bag)\r\n    if(this.state.isMobile) {\r\n      bag.style.transform = \"translate(320px, 0px)\";\r\n    } else bag.style.transform = \"translate(450px, 0px)\";\r\n    showBag.style.display = \"block\";\r\n    hideBag.style.display = \"none\";\r\n  }\r\n  removeProductFromBag(productId, event) {\r\n    // console.log('id ccua pro la:/event ', productId,event)\r\n    // 1. xoa product tu localstorage\r\n    let bag = this.state.bag;\r\n    \r\n    if (bag.products.length === 1) {\r\n      // neu la product duy nhat trong localstorage thi set products trong local thanh array rong\r\n      let prevState = this.state;\r\n      localStorage.removeItem('bag');\r\n      prevState.bag = JSON.parse(localStorage.getItem('bag'));\r\n      // prevState.bag.products = [];\r\n      // prevState.bag.total = {'quanity': 0,\r\n      //                         'installments': '',\r\n      //                         'price': '',\r\n      //                         'currencyId': '',\r\n      //                         'currencyFormat': ''\r\n      //                         }\r\n      // localStorage.setItem('bag', JSON.stringify(prevState.bag));\r\n      this.setState(prevState);\r\n    } else\r\n    for (let index in bag.products) {\r\n      if (bag.products[index].id === productId) {\r\n        // cap nhat total price\r\n        bag.total.price -= (bag.products[index].price * bag.products[index].quanity);\r\n        // cap nhat lai total quanity\r\n        bag.total.quanity -= bag.products[index].quanity;\r\n        // xoa product ra khoi\r\n        bag.products.splice(index,1);\r\n        // cap nhat lai total installments\r\n        bag.total.installments = 0;\r\n        for (let product of bag.products) {\r\n          if (product.installments > bag.total.installments) {\r\n            bag.total.installments = product.installments;\r\n          }\r\n        }\r\n        // 2/ set lai state\r\n        let prevState = this.state;\r\n        prevState.bag = bag;\r\n        localStorage.setItem('bag', JSON.stringify(bag));\r\n        this.setState(prevState);\r\n        // out loop\r\n        break;\r\n      }\r\n    }\r\n    \r\n  }\r\n  calInBag() {\r\n    if (this.state.bag) {\r\n      const bag = this.state.bag;\r\n      // console.log('bag: ',bag);\r\n      if (bag.total) {\r\n        console.log('co bag total: ',bag.total);\r\n        if (bag.total.price) {\r\n          return (\r\n            <React.Fragment>\r\n              <span className=\"bag__content--subtotal__text__price--final\">{bag.total.currencyFormat} <span>{bag.total.price.toFixed(2)}</span></span>\r\n              <span className=\"bag__content--subtotal__text__price--installments\">\r\n                <span>OR UP TO</span> {bag.total.installments} <span>x</span> <span>{bag.total.currencyFormat}</span> {parseFloat(bag.total.price / bag.total.installments).toFixed(2)}\r\n              </span>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n      } else {\r\n        return (\r\n          <React.Fragment>\r\n            <span className=\"bag__content--subtotal__text__price--final\"><span>00.00</span></span>\r\n            <span className=\"bag__content--subtotal__text__price--installments\">\r\n              {/* <span>OR UP TO</span> 9 <span>x</span> <span>$</span> 1.21 */}\r\n            </span>\r\n          </React.Fragment>\r\n        )\r\n      }\r\n    } else {\r\n      return (\r\n        <React.Fragment>\r\n          <span className=\"bag__content--subtotal__text__price--final\"><span>00.00</span></span>\r\n          <span className=\"bag__content--subtotal__text__price--installments\">\r\n            {/* <span>OR UP TO</span> 9 <span>x</span> <span>$</span> 1.21 */}\r\n          </span>\r\n        </React.Fragment>\r\n      )\r\n    }\r\n  }\r\n  getProductFromLocalstorage() {\r\n    // console.log('bag trong state luc nay: ',this.state.bag.products);\r\n    if (this.state.bag) {\r\n      if (this.state.bag.products) {\r\n        const products = this.state.bag.products;\r\n        return (\r\n          <React.Fragment>\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"bag__content--list__item\">\r\n                <button className=\"bag__content--list__item__remove\" onClick={this.removeProductFromBag.bind(this, product.id)}>\r\n                  <span>x</span>\r\n                </button>\r\n                <div className=\"bag__content--list__item__image\">\r\n                  <img src={`images/products/${product.sku}_2.jpg`} alt=\"\"/>\r\n                </div>\r\n                <div className=\"bag__content--list__item__desc\">\r\n                  <span>{product.title}</span>\r\n                  <span>{product.availableSizes[0]} | {product.style}</span>\r\n                  <span>Quantity: {product.quanity}</span>\r\n                </div>\r\n                <div className=\"bag__content--list__item__price\">\r\n                  <div className=\"--text\"><span>{product.currencyFormat}</span><span> {parseFloat(product.price * product.quanity).toFixed(2)}</span></div>\r\n                </div>\r\n              </div>\r\n            )\r\n          })}\r\n          </React.Fragment>\r\n          // <div className=\"bag__content--list__item\">\r\n          //   <button className=\"bag__content--list__item__remove\">\r\n          //     <span>x</span>\r\n          //   </button>\r\n          //   <div className=\"bag__content--list__item__image\">\r\n          //     <img src=\"images/products/876661122392077_2.jpg\" alt=\"\"/>\r\n          //   </div>\r\n          //   <div className=\"bag__content--list__item__desc\">\r\n          //     <span>White DGK Script Tee</span>\r\n          //     <span>X | Preto com listras brancas</span>\r\n          //     <span>Quantity: 1</span>\r\n          //   </div>\r\n          //   <div className=\"bag__content--list__item__price\">\r\n          //     <div className=\"--text\"><span>$</span><span> 10.90</span></div>\r\n          //   </div>\r\n          // </div>\r\n        )\r\n      } else return (\r\n        <div className=\"bag__content--list__item\">\r\n          <span>Your bag is empty! :)</span>\r\n        </div>\r\n      )\r\n    } else return (\r\n      <div className=\"bag__content--list__item\">\r\n        <span>Your bag is empty! :)</span>\r\n      </div>\r\n    );\r\n  }\r\n  checkout = () => {\r\n    if(this.state.bag) {\r\n      // do sth on checkout\r\n    } else {\r\n      // nothing to checkout\r\n      alert('Nothing to checkout! :)')\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"bag\" id=\"bag\" ref=\"bag\">\r\n        <button className=\"bag__btn\">\r\n          <div className=\"bag__btn--show\" id=\"bag__btn--show\" ref=\"bag__btn_show\" onClick={this.showBag.bind(this)} >\r\n            <img src=\"images/bag-icon.png\" alt=\"\"/>\r\n            {/* <span className=\"bag__btn--show__count\">2</span> */}\r\n            {countInBag('bag__btn--show__count')}\r\n          </div>\r\n          <div className=\"bag__btn--hide\" id=\"bag__btn--hide\" ref=\"bag__btn_hide\" onClick={this.hideBag.bind(this)} >\r\n            <span>X</span>\r\n          </div>\r\n        </button>\r\n        <div className=\"bag__content\">\r\n          <div className=\"bag__content--icon\">\r\n            <img src=\"images/bag-icon.png\" alt=\"\"/>\r\n            {/* <span className=\"bag__content--icon__count\">2</span> */}\r\n            {countInBag('bag__content--icon__count')}\r\n            <span className=\"bag__content--icon__text\">Bag</span>\r\n          </div>\r\n          <div className=\"bag__content--list\">\r\n            {/* neu co du lieu trong localstorage thi chay vong lap lay du lieu ra */}\r\n            {this.getProductFromLocalstorage()}\r\n          </div>\r\n          <div className=\"bag__content--subtotal\">\r\n            <div className=\"bag__content--subtotal__text\">\r\n              <div>SUBTOTAL</div>\r\n              <div className=\"bag__content--subtotal__text__price\">\r\n                {this.calInBag()}\r\n              </div>\r\n            </div>\r\n            <button className=\"bag__content--subtotal__checkout\" onClick={this.checkout}>\r\n              <span className=\"bag__content--subtotal__checkout__text\">CHECKOUT</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction countInBag(inClass) {\r\n  // let bag = localStorage.getItem('bag');\r\n  // console.log(this.state.bag);\r\n  if (this.state.bag) {\r\n    console.log('state.bag luc nay la: ',this.state.bag);\r\n    if (this.state.bag.products) {\r\n      return (\r\n        <span className={inClass}>{this.state.bag.total.quanity}</span>\r\n      );\r\n    } else return (\r\n      <span className={inClass}>0</span>\r\n    );\r\n  } else return (\r\n    <span className={inClass}>0</span>\r\n  );\r\n  // if (typeof(this.state.bag.total.quanity)) {\r\n  //   return (\r\n  //     <span className={inClass}>{this.state.bag.total.quanity}</span>\r\n  //   );\r\n  // } else return (\r\n  //   <span className={inClass}>0</span>\r\n  // );\r\n  \r\n}\r\n// window.addEventListener('storage', function(e) {  \r\n//   console.log('Woohoo, someone changed my localstorage va another tab/window!');\r\n// });\r\n// window.onstorage = () => {\r\n//   // When local storage changes, dump the list to\r\n//   // the console.\r\n//   console.log('local vua thay doi: ',JSON.parse(window.localStorage.getItem('bag')));\r\n// };\r\n\r\nexport default Bag;","import React, { Component } from 'react';\r\nimport Filter from '../Filter';\r\nimport Products from '../Products';\r\nimport Bag from '../Bag';\r\n// import Loading from '../Fragments/Loading';\r\nimport './style.scss';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      filteredItem: []\r\n    };\r\n    passFilteredItem = passFilteredItem.bind(this);\r\n    isUpdateBag = isUpdateBag.bind(this)\r\n  }\r\n  render() {\r\n    return (\r\n      //React.Fragment nhóm các phần tử con mà không thêm node nào mới vào DOM\r\n      <React.Fragment>\r\n        {/* <Loading ref=\"lds_ring\"/> */}\r\n        <Filter passFilteredItem={passFilteredItem}/>\r\n        <Products passFilteredItem={this.state.filteredItem} isUpdateBag={isUpdateBag} loading={this.refs.lds_ring}/>\r\n        <Bag isUpdateBag={this.state.isUpdateBag}/>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nfunction isUpdateBag(response) {\r\n  console.log('bag response: ',response);\r\n  if (response === 'yes') {\r\n    let prevState = this.state;\r\n    prevState.isUpdateBag = 'yes';\r\n    this.setState(prevState);\r\n  }\r\n}\r\nfunction passFilteredItem (childData) {\r\n  if (childData.length > 0) {\r\n    // JSON.stringify(this.state.filteredItem) === JSON.stringify(childData);\r\n    // console.log(JSON.stringify(this.state.filteredItem) === JSON.stringify(childData));\r\n    // console.log(JSON.stringify(this.state.filteredItem));\r\n    // console.log(JSON.stringify(childData));\r\n\r\n    // if(!(JSON.stringify(this.state.filteredItem) === JSON.stringify(childData))) {\r\n    //   this.setState({\r\n    //     filteredItem : childData\r\n    //   });\r\n    // }\r\n    this.setState({\r\n      filteredItem : childData\r\n    });\r\n  } else \r\n  this.setState({\r\n    filteredItem : []\r\n  });\r\n  // console.log(childData.length)\r\n}\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('main')\n);\n\n// ReactDOM.render(<App />, document.getElementById('main2'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}